<!DOCTYPE html>
<html >
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,nitial-scale=1, minimum-scale=1,maximum-scale=1,user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>test</title>
    <link rel="stylesheet" href="">
    <style type="text/css" media="screen">
        *{
            margin:0;
            padding: 0;
        }
    </style>
    <script>
    (function(window, document) {
        // 设计稿尺寸
        var designSourceWidth = 750;
        (function() {
            var viewportEl = document.querySelector('meta[name="viewport"]'),
                hotcssEl = document.querySelector('meta[name="hotcss"]'),
                dpr = window.devicePixelRatio || 1;
            if (hotcssEl) {
                var hotcssCon = hotcssEl.getAttribute("content");
                if (hotcssCon) {
                    var initialDpr = hotcssCon.match(/initial\-dpr=([\d\.]+)/);
                    if (initialDpr) {
                        dpr = parseFloat(initialDpr[1])
                    }
                }
            }
            var scale = 1 / dpr,
                content = "width=device-width, initial-scale=" + scale + ", minimum-scale=" + scale + ", maximum-scale=" + scale + ", user-scalable=no";
            if (viewportEl) {
                viewportEl.setAttribute("content", content)
            } else {
                viewportEl = document.createElement("meta");
                viewportEl.setAttribute("name", "viewport");
                viewportEl.setAttribute("content", content);
                document.head.appendChild(viewportEl)
            }
        })();
        var hotcss = {};
        hotcss.px2rem = function(px, designWidth) {
            if (!designWidth) {
                designWidth = parseInt(hotcss.designWidth, 10)
            }
            return parseInt(px, 10) * designSourceWidth / designWidth / 100;
        };
        hotcss.mresize = function() {
            var innerWidth = window.innerWidth;
            if (!innerWidth) {
                return false
            }
            document.documentElement.style.fontSize = (innerWidth *100 / designSourceWidth) + "px"
        };
        hotcss.mresize();
        window.addEventListener("resize", hotcss.mresize, false);
        window.addEventListener("load", hotcss.mresize, false);
        setTimeout(function() {
            hotcss.mresize()
        }, 300);
        window.hotcss = hotcss
    })(window, document);
    </script>
</head>
<body style="font-size:24px;">
    <button onclick="alert(window.devicePixelRatio)">devicePixelRatio</button>
    <button onclick="alert(window.innerWidth)">innerWidth</button>

    <br/><br/><br/>
    <div style="width:3.2rem;height:1rem;background:#f00;font-size:100%">
        百度一下 <span style="font-size:24px;">百度一下</span>
    </div>
    <br>
    <div style="width:1.6rem;height:0.5rem;background:#f00;font-size:0.12rem">
        百度一下
    </div>
    <br>
    <div style="width:25%;height:4rem;background:#f00;font-size:0.24rem">
        百度一下 <span style="font-size:24px;">百度一下</span>
    </div>

    <br>

    <div style="width:1rem; height:1rem; background:#d00">

    </div>

    <br>
    <br>

</body>
</html>