# C基础

##赋值语句和赋值表达式

    赋值表达式是一种表达式，它可以出现在任何允许表达式出现的地方，而赋值语句则不能。下述语句是合法的：

        if((x=y+5)>0) z=x; // 此为语句，x=y+5是表达式


        if((x=y+5;)>0) z=x; //非法语句， x=y+5;是语句了；


##define 宏无参的定义

    宏定义不是说明或语句，在行末不必加分号，如加上分号则连分号也一起置换。

    宏定义必须写在函数之外，其作用域为宏定义命令起到源程序结束。如要终止其作用域可使用#undef命令。


            #define PI 3.14159
            int main(void){
                /* …… */
                return 0;
            }
            #undef PI
            f1(){
                /* …… */
            }

    宏名在源程序中若用引号括起来，则预处理程序不对其作宏代换。


    宏定义允许嵌套，在宏定义的字符串中可以使用已经定义的宏名。在宏展开时由预处理程序层层代换


        #define PI 3.1415926
        #define S PI*y*y    /* PI是已定义的宏名*/



        #include <stdio.h>
        #define P printf
        #define D "%d\n"
        #define F "%f\n"

        int main(void){
            int a=5, c=8, e=11;
            float b=3.8, d=9.7, f=21.08;
            P(D F,a,b);
            P(D F,c,d);
            P(D F,e,f);
            return 0;
        }

##define 宏有参的定义

    带参宏定义中，形参之间可以出现空格，但是宏名和形参表之间不能有空格出现

    在带参宏定义中，形式参数不分配内存单元，因此不必作类型定义。而宏调用中的实参有具体的值。要用它们去代换形参，因此必须作类型说明。这是与函数中的情况不同的。在函数中，形参和实参是两个不同的量，各有自己的作用域，调用时要把实参值赋予形参，进行“值传递”。而在带参宏中，只是符号代换，不存在值传递的问题。

    在宏定义中的形参是标识符，而宏调用中的实参可以是表达式。


    宏定义也可用来定义多个语句，在宏调用时，把这些语句又代换到源程序内。看下面的例子。


        #include <stdio.h>
        #define SSSV(s1,s2,s3,v) s1=l*w;s2=l*h;s3=w*h;v=w*l*h;
        int main(void){
            int l=3,w=4,h=5,sa,sb,sc,vv;
            SSSV(sa,sb,sc,vv);
            printf("sa=%d\nsb=%d\nsc=%d\nvv=%d\n",sa,sb,sc,vv);
            return 0;
        }       

    






